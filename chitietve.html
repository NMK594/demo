<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>V√© s·ª± ki·ªán - Carousel</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="stylectv.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="phone-frame">
       <div class="status-bar">
        <span>10:08</span>
        <div>
         <i class="bi bi-wifi"></i>
          <span></span>
         <i class="bi bi-battery-half"></i>
        </div>
      </div>

      <div class="header-title">
        <h2>V√© c·ªßa t√¥i</h2>
      </div>
      <div class="app-container">
        <header class="app-header">
          <div class="status-bar">
           
      
  
          </div>
          
        </header>

        <div class="ticket-content-wrapper">
          <div class="carousel-wrapper">
            <button class="nav-button prev-button">&lt;</button>

            <div class="carousel-container">
              <div class="ticket-card ticket-1">
                <p class="section-title">Seating</p>
                <div class="seating-info">
                  <div class="info-item">
                    <span class="label">SEC</span><span class="value">C</span>
                  </div>
                  <div class="info-item">
                    <span class="label">ROW</span><span class="value">4</span>
                  </div>
                  <div class="info-item">
                    <span class="label">SEAT</span><span class="value">78</span>
                  </div>
                </div>
                <div class="ticket-image-container">
                  <div class="ticket-image">
                    <div class="color-overlay overlay-1"></div>
                    <div class="artist-image image-1"></div>
                  </div>
                  <div class="event-details">
                    <p class="artist-name">TV GIRL</p>
                    <p class="event-time-location">
                      Thur Aug, 15 - 6:30 PM - 3Arena, Dublin
                    </p>
                  </div>
                </div>
                <div class="ticket-actions">
                  <a href="#" class="action-link">View Barcode</a>
                  <a href="#" class="action-link">Ticket Details</a>
                </div>
                <div class="ticket-verified">
                  <span class="verified-text">ticketmaster.verified</span>
                </div>
              </div>

              <div class="ticket-card ticket-2">
                <p class="section-title">Seating</p>
                <div class="seating-info">
                  <div class="info-item">
                    <span class="label">SEC</span><span class="value">A</span>
                  </div>
                  <div class="info-item">
                    <span class="label">ROW</span><span class="value">12</span>
                  </div>
                  <div class="info-item">
                    <span class="label">SEAT</span><span class="value">30</span>
                  </div>
                </div>
                <div class="ticket-image-container">
                  <div class="ticket-image">
                    <div class="color-overlay overlay-2"></div>
                    <div class="artist-image image-2"></div>
                  </div>
                  <div class="event-details">
                    <p class="artist-name">BLUR</p>
                    <p class="event-time-location">
                      Sat Sept, 28 - 7:00 PM - Aviva Stadium
                    </p>
                  </div>
                </div>
                <div class="ticket-actions">
                  <a href="#" class="action-link">View Barcode</a>
                  <a href="#" class="action-link">Ticket Details</a>
                </div>
                <div class="ticket-verified">
                  <span class="verified-text">ticketmaster.verified</span>
                </div>
              </div>

              <div class="ticket-card ticket-3">
                <p class="section-title">Seating</p>
                <div class="seating-info">
                  <div class="info-item">
                    <span class="label">SEC</span><span class="value">D</span>
                  </div>
                  <div class="info-item">
                    <span class="label">ROW</span><span class="value">8</span>
                  </div>
                  <div class="info-item">
                    <span class="label">SEAT</span
                    ><span class="value">150</span>
                  </div>
                </div>
                <div class="ticket-image-container">
                  <div class="ticket-image">
                    <div class="color-overlay overlay-3"></div>
                    <div class="artist-image image-3"></div>
                  </div>
                  <div class="event-details">
                    <p class="artist-name">COLDPLAY</p>
                    <p class="event-time-location">
                      Fri Dec, 6 - 8:00 PM - Croke Park
                    </p>
                  </div>
                </div>
                <div class="ticket-actions">
                  <a href="#" class="action-link">View Barcode</a>
                  <a href="#" class="action-link">Ticket Details</a>
                </div>
                <div class="ticket-verified">
                  <span class="verified-text">ticketmaster.verified</span>
                </div>
              </div>
            </div>

            <button class="nav-button next-button">&gt;</button>

            <div class="dots-indicator">
              <span class="dot active"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </div>
          </div>
        </div>

        <footer class="footer-actions">
          <button class="action-button transfer-button">
            <span class="arrow-icon">‚Üí</span>
            Transfer
          </button>
          <button class="action-button print-button">
            <span class="print-icon">üñ®Ô∏è</span>
            Print
          </button>
        </footer>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const carousel = document.querySelector(".carousel-container");
        const prevButton = document.querySelector(".prev-button");
        const nextButton = document.querySelector(".next-button");
        const dots = document.querySelectorAll(".dot");
        const cards = document.querySelectorAll(".ticket-card");

        let currentIndex = 0;
        const totalCards = cards.length;

        // T√≠nh to√°n chi·ªÅu r·ªông c·ªßa m·ªôt slide (1 th·∫ª v√©)
        // L·∫•y chi·ªÅu r·ªông th·∫ª + margin/padding gi·ªØa c√°c th·∫ª
        const getSlideWidth = () => {
          if (cards.length === 0) return 0;
          // L·∫•y chi·ªÅu r·ªông c·ªßa m·ªôt th·∫ª v√© (v√≠ d·ª•: 375px/3 * 3 - margin)
          // Trong CSS, width c·ªßa th·∫ª l√†: calc(100% / 3 - 15px)
          // Chi·ªÅu r·ªông hi·ªáu qu·∫£ c·ªßa 1 slide l√†: (Width c·ªßa .carousel-wrapper) / 1
          const wrapperWidth =
            document.querySelector(".carousel-wrapper").offsetWidth;
          return wrapperWidth;
        };

        // H√†m c·∫≠p nh·∫≠t v·ªã tr√≠ carousel
        const updateCarousel = () => {
          const slideWidth = getSlideWidth();

          // ƒêi·ªÅu ch·ªânh v·ªã tr√≠ tr∆∞·ª£t b·∫±ng transform
          // translateX t√≠nh b·∫±ng (Chi·ªÅu r·ªông m·ªói slide) * index hi·ªán t·∫°i
          // Th√™m m·ªôt gi√° tr·ªã b√π tr·ª´ ƒë·ªÉ cƒÉn th·∫ª v√© v√†o gi·ªØa view
          const cardMargin = 7.5; // margin-left c·ªßa th·∫ª v√© + padding-left c·ªßa carousel-container
          const offset = slideWidth / 2 + cardMargin;

          carousel.style.transform = `translateX(calc(-${
            currentIndex * slideWidth
          }px - ${cardMargin}px))`;

          updateDots();
          updateNavButtons();
        };

        // H√†m c·∫≠p nh·∫≠t tr·∫°ng th√°i ch·∫•m tr√≤n
        const updateDots = () => {
          dots.forEach((dot, i) => {
            dot.classList.toggle("active", i === currentIndex);
          });
        };

        // H√†m c·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ƒëi·ªÅu h∆∞·ªõng
        const updateNavButtons = () => {
          prevButton.classList.toggle("hidden", currentIndex === 0);
          nextButton.classList.toggle(
            "hidden",
            currentIndex === totalCards - 1
          );
        };

        // X·ª≠ l√Ω s·ª± ki·ªán click n√∫t Prev
        prevButton.addEventListener("click", () => {
          if (currentIndex > 0) {
            currentIndex--;
            updateCarousel();
          }
        });

        // X·ª≠ l√Ω s·ª± ki·ªán click n√∫t Next
        nextButton.addEventListener("click", () => {
          if (currentIndex < totalCards - 1) {
            currentIndex++;
            updateCarousel();
          }
        });

        // X·ª≠ l√Ω khi click v√†o ch·∫•m tr√≤n
        dots.forEach((dot, index) => {
          dot.addEventListener("click", () => {
            currentIndex = index;
            updateCarousel();
          });
        });

        // Kh·ªüi t·∫°o tr·∫°ng th√°i ban ƒë·∫ßu
        updateCarousel();

        // ƒê·∫£m b·∫£o c·∫≠p nh·∫≠t n·∫øu k√≠ch th∆∞·ªõc m√†n h√¨nh thay ƒë·ªïi (v√≠ d·ª•: xoay ƒëi·ªán tho·∫°i)
        window.addEventListener("resize", updateCarousel);
      });
    </script>
  </body>
</html>


